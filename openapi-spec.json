{"openapi":"3.0.3","info":{"title":"Ratchet Task Execution API","description":"Comprehensive REST API for managing and executing tasks in the Ratchet system. Provides full CRUD operations for tasks, executions, jobs, schedules, and workers with real-time monitoring capabilities.","contact":{"name":"Ratchet API Support","email":"api-support@ratchet.dev"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"version":"1.0.0"},"servers":[{"url":"http://localhost:8080/api/v1","description":"Development server"},{"url":"https://api.ratchet.dev/v1","description":"Production server"}],"paths":{"/executions":{"get":{"tags":["executions"],"summary":"List all executions with optional filtering and pagination","operationId":"listExecutions","parameters":[{"name":"_start","in":"query","description":"Starting index (0-based) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"_end","in":"query","description":"Ending index (exclusive) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"page","in":"query","description":"Page number (1-based) - standard style","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"limit","in":"query","description":"Number of items per page (max 100)","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"_sort","in":"query","description":"Field to sort by - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"_order","in":"query","description":"Sort order: ASC or DESC - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"task_id","in":"query","description":"Filter by task ID","required":false,"schema":{"type":"string","nullable":true}},{"name":"status","in":"query","description":"Filter by execution status (PENDING, RUNNING, COMPLETED, FAILED, CANCELLED)","required":false,"schema":{"type":"string","nullable":true}},{"name":"status_ne","in":"query","description":"Filter by execution status (not equal)","required":false,"schema":{"type":"string","nullable":true}},{"name":"has_error","in":"query","description":"Filter by executions with errors","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"can_retry","in":"query","description":"Filter by executions that can be retried","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"can_cancel","in":"query","description":"Filter by executions that can be cancelled","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"has_progress","in":"query","description":"Filter by executions with progress data","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"error_message_like","in":"query","description":"Filter by error message (contains text)","required":false,"schema":{"type":"string","nullable":true}},{"name":"progress_gte","in":"query","description":"Filter by progress greater than or equal to value","required":false,"schema":{"type":"number","format":"float","nullable":true}},{"name":"progress_lte","in":"query","description":"Filter by progress less than or equal to value","required":false,"schema":{"type":"number","format":"float","nullable":true}},{"name":"duration_gte","in":"query","description":"Filter by duration greater than or equal to value (ms)","required":false,"schema":{"type":"integer","format":"int32","nullable":true}},{"name":"duration_lte","in":"query","description":"Filter by duration less than or equal to value (ms)","required":false,"schema":{"type":"integer","format":"int32","nullable":true}},{"name":"queued_after","in":"query","description":"Filter by queue date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"queued_before","in":"query","description":"Filter by queue date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"started_after","in":"query","description":"Filter by start date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"started_before","in":"query","description":"Filter by start date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"completed_after","in":"query","description":"Filter by completion date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"completed_before","in":"query","description":"Filter by completion date (before this date)","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"List of executions retrieved successfully"},"400":{"description":"Invalid query parameters"},"500":{"description":"Internal server error"}}},"post":{"tags":["executions"],"summary":"Create a new execution","operationId":"createExecution","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateExecutionRequest"}}},"required":true},"responses":{"201":{"description":"Execution created successfully"},"400":{"description":"Invalid execution data"},"404":{"description":"Task not found"},"500":{"description":"Internal server error"}}}},"/executions/stats":{"get":{"tags":["executions"],"summary":"Get execution statistics","operationId":"getExecutionStats","responses":{"200":{"description":"Execution statistics retrieved successfully"},"500":{"description":"Internal server error"}}}},"/executions/{execution_id}":{"get":{"tags":["executions"],"summary":"Get a specific execution by ID","operationId":"getExecution","parameters":[{"name":"execution_id","in":"path","description":"Unique execution identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Execution retrieved successfully"},"400":{"description":"Invalid execution ID"},"404":{"description":"Execution not found"},"500":{"description":"Internal server error"}}},"patch":{"tags":["executions"],"summary":"Update an existing execution","operationId":"updateExecution","parameters":[{"name":"execution_id","in":"path","description":"Unique execution identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateExecutionRequest"}}},"required":true},"responses":{"200":{"description":"Execution updated successfully"},"400":{"description":"Invalid execution data"},"404":{"description":"Execution not found"},"500":{"description":"Internal server error"}}}},"/executions/{execution_id}/cancel":{"post":{"tags":["executions"],"summary":"Cancel a running execution","operationId":"cancelExecution","parameters":[{"name":"execution_id","in":"path","description":"Unique execution identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Execution cancelled successfully"},"400":{"description":"Execution cannot be cancelled"},"404":{"description":"Execution not found"},"500":{"description":"Internal server error"}}}},"/executions/{execution_id}/logs":{"get":{"tags":["executions"],"summary":"Get execution logs","operationId":"getExecutionLogs","parameters":[{"name":"execution_id","in":"path","description":"Unique execution identifier","required":true,"schema":{"type":"string"}},{"name":"follow","in":"query","description":"Follow logs in real-time","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"since","in":"query","description":"Show logs since timestamp (ISO 8601)","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"Execution logs retrieved successfully"},"404":{"description":"Execution not found"},"500":{"description":"Internal server error"}}}},"/executions/{execution_id}/retry":{"post":{"tags":["executions"],"summary":"Retry a failed execution","operationId":"retryExecution","parameters":[{"name":"execution_id","in":"path","description":"Unique execution identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetryExecutionRequest"}}},"required":true},"responses":{"201":{"description":"Execution retry created successfully"},"400":{"description":"Execution cannot be retried"},"404":{"description":"Execution not found"},"500":{"description":"Internal server error"}}}},"/health":{"get":{"tags":["health"],"summary":"Health check endpoint","description":"Returns the overall health status of the API and its dependencies.","operationId":"healthCheck","responses":{"200":{"description":"Service is healthy"},"503":{"description":"Service is unhealthy"}}}},"/jobs":{"get":{"tags":["jobs"],"summary":"List all jobs with optional filtering and pagination","operationId":"listJobs","parameters":[{"name":"_start","in":"query","description":"Starting index (0-based) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"_end","in":"query","description":"Ending index (exclusive) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"page","in":"query","description":"Page number (1-based) - standard style","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"limit","in":"query","description":"Number of items per page (max 100)","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"_sort","in":"query","description":"Field to sort by - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"_order","in":"query","description":"Sort order: ASC or DESC - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"task_id","in":"query","description":"Filter by task ID","required":false,"schema":{"type":"string","nullable":true}},{"name":"status","in":"query","description":"Filter by job status (QUEUED, PROCESSING, COMPLETED, FAILED, CANCELLED, RETRYING)","required":false,"schema":{"type":"string","nullable":true}},{"name":"status_ne","in":"query","description":"Filter by job status (not equal)","required":false,"schema":{"type":"string","nullable":true}},{"name":"status_in","in":"query","description":"Filter by job status (comma-separated list)","required":false,"schema":{"type":"string","nullable":true}},{"name":"priority","in":"query","description":"Filter by job priority (LOW, NORMAL, HIGH, CRITICAL)","required":false,"schema":{"type":"string","nullable":true}},{"name":"priority_gte","in":"query","description":"Filter by job priority (greater than or equal)","required":false,"schema":{"type":"string","nullable":true}},{"name":"priority_in","in":"query","description":"Filter by job priority (comma-separated list)","required":false,"schema":{"type":"string","nullable":true}},{"name":"retry_count_gte","in":"query","description":"Filter by retry count (greater than or equal to value)","required":false,"schema":{"type":"integer","format":"int32","nullable":true}},{"name":"retry_count_lte","in":"query","description":"Filter by retry count (less than or equal to value)","required":false,"schema":{"type":"integer","format":"int32","nullable":true}},{"name":"max_retries_gte","in":"query","description":"Filter by max retries (greater than or equal to value)","required":false,"schema":{"type":"integer","format":"int32","nullable":true}},{"name":"max_retries_lte","in":"query","description":"Filter by max retries (less than or equal to value)","required":false,"schema":{"type":"integer","format":"int32","nullable":true}},{"name":"has_retries_remaining","in":"query","description":"Filter by jobs with retries remaining","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"has_error","in":"query","description":"Filter by jobs with errors","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"error_message_like","in":"query","description":"Filter by error message (contains text)","required":false,"schema":{"type":"string","nullable":true}},{"name":"is_scheduled","in":"query","description":"Filter by scheduled jobs","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"due_now","in":"query","description":"Filter by jobs due for execution now","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"queued_after","in":"query","description":"Filter by queue date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"queued_before","in":"query","description":"Filter by queue date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"scheduled_after","in":"query","description":"Filter by scheduled date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"scheduled_before","in":"query","description":"Filter by scheduled date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"task_id_in","in":"query","description":"Filter by task IDs (comma-separated list)","required":false,"schema":{"type":"string","nullable":true}},{"name":"id_in","in":"query","description":"Filter by job IDs (comma-separated list)","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"List of jobs retrieved successfully"},"400":{"description":"Invalid query parameters"},"500":{"description":"Internal server error"}}},"post":{"tags":["jobs"],"summary":"Create a new job","operationId":"createJob","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateJobRequest"}}},"required":true},"responses":{"201":{"description":"Job created successfully"},"400":{"description":"Invalid job data"},"404":{"description":"Task not found"},"500":{"description":"Internal server error"}}}},"/jobs/stats":{"get":{"tags":["jobs"],"summary":"Get job statistics","operationId":"getJobStats","responses":{"200":{"description":"Job statistics retrieved successfully"},"500":{"description":"Internal server error"}}}},"/jobs/{job_id}":{"get":{"tags":["jobs"],"summary":"Get a specific job by ID","operationId":"getJob","parameters":[{"name":"job_id","in":"path","description":"Unique job identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Job retrieved successfully"},"400":{"description":"Invalid job ID"},"404":{"description":"Job not found"},"500":{"description":"Internal server error"}}},"patch":{"tags":["jobs"],"summary":"Update an existing job","operationId":"updateJob","parameters":[{"name":"job_id","in":"path","description":"Unique job identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateJobRequest"}}},"required":true},"responses":{"200":{"description":"Job updated successfully"},"400":{"description":"Invalid job data"},"404":{"description":"Job not found"},"500":{"description":"Internal server error"}}}},"/jobs/{job_id}/cancel":{"post":{"tags":["jobs"],"summary":"Cancel a queued job","operationId":"cancelJob","parameters":[{"name":"job_id","in":"path","description":"Unique job identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Job cancelled successfully"},"400":{"description":"Job cannot be cancelled"},"404":{"description":"Job not found"},"500":{"description":"Internal server error"}}}},"/jobs/{job_id}/retry":{"post":{"tags":["jobs"],"summary":"Retry a failed job","operationId":"retryJob","parameters":[{"name":"job_id","in":"path","description":"Unique job identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Job retry scheduled successfully"},"400":{"description":"Job cannot be retried"},"404":{"description":"Job not found"},"500":{"description":"Internal server error"}}}},"/metrics":{"get":{"tags":["monitoring"],"summary":"Get comprehensive system metrics","description":"Returns detailed system and application metrics for monitoring and observability.","operationId":"getMetrics","responses":{"200":{"description":"System metrics retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SystemMetrics"}}}},"500":{"description":"Failed to collect metrics"}}}},"/metrics/prometheus":{"get":{"tags":["monitoring"],"summary":"Get Prometheus-formatted metrics","description":"Returns metrics in Prometheus exposition format for integration with monitoring systems.","operationId":"getPrometheusMetrics","responses":{"200":{"description":"Prometheus metrics"},"500":{"description":"Failed to collect metrics"}}}},"/schedules":{"get":{"tags":["schedules"],"summary":"List all schedules with optional filtering and pagination","operationId":"listSchedules","parameters":[{"name":"_start","in":"query","description":"Starting index (0-based) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"_end","in":"query","description":"Ending index (exclusive) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"page","in":"query","description":"Page number (1-based) - standard style","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"limit","in":"query","description":"Number of items per page (max 100)","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"_sort","in":"query","description":"Field to sort by - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"_order","in":"query","description":"Sort order: ASC or DESC - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"task_id","in":"query","description":"Filter by task ID","required":false,"schema":{"type":"string","nullable":true}},{"name":"enabled","in":"query","description":"Filter by enabled status","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"name","in":"query","description":"Filter by schedule name (exact match)","required":false,"schema":{"type":"string","nullable":true}},{"name":"name_like","in":"query","description":"Filter by schedule name (contains text)","required":false,"schema":{"type":"string","nullable":true}},{"name":"cron_expression","in":"query","description":"Filter by cron expression (exact match)","required":false,"schema":{"type":"string","nullable":true}},{"name":"cron_expression_like","in":"query","description":"Filter by cron expression (contains text)","required":false,"schema":{"type":"string","nullable":true}},{"name":"is_due","in":"query","description":"Filter by schedules that are due now","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"overdue","in":"query","description":"Filter by overdue schedules","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"has_next_run","in":"query","description":"Filter by schedules with next run date","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"has_last_run","in":"query","description":"Filter by schedules with last run date","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"next_run_after","in":"query","description":"Filter by next run date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"next_run_before","in":"query","description":"Filter by next run date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"last_run_after","in":"query","description":"Filter by last run date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"last_run_before","in":"query","description":"Filter by last run date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"created_after","in":"query","description":"Filter by creation date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"created_before","in":"query","description":"Filter by creation date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"updated_after","in":"query","description":"Filter by update date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"updated_before","in":"query","description":"Filter by update date (before this date)","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"List of schedules retrieved successfully"},"400":{"description":"Invalid query parameters"},"500":{"description":"Internal server error"}}},"post":{"tags":["schedules"],"summary":"Create a new schedule","operationId":"createSchedule","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateScheduleRequest"}}},"required":true},"responses":{"201":{"description":"Schedule created successfully"},"400":{"description":"Invalid schedule data"},"404":{"description":"Task not found"},"500":{"description":"Internal server error"}}}},"/schedules/stats":{"get":{"tags":["schedules"],"summary":"Get schedule statistics","operationId":"getScheduleStats","responses":{"200":{"description":"Schedule statistics retrieved successfully"},"500":{"description":"Internal server error"}}}},"/schedules/{schedule_id}":{"get":{"tags":["schedules"],"summary":"Get a specific schedule by ID","operationId":"getSchedule","parameters":[{"name":"schedule_id","in":"path","description":"Unique schedule identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Schedule retrieved successfully"},"400":{"description":"Invalid schedule ID"},"404":{"description":"Schedule not found"},"500":{"description":"Internal server error"}}},"delete":{"tags":["schedules"],"summary":"Delete a schedule","operationId":"deleteSchedule","parameters":[{"name":"schedule_id","in":"path","description":"Unique schedule identifier","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"Schedule deleted successfully"},"404":{"description":"Schedule not found"},"500":{"description":"Internal server error"}}},"patch":{"tags":["schedules"],"summary":"Update an existing schedule","operationId":"updateSchedule","parameters":[{"name":"schedule_id","in":"path","description":"Unique schedule identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateScheduleRequest"}}},"required":true},"responses":{"200":{"description":"Schedule updated successfully"},"400":{"description":"Invalid schedule data"},"404":{"description":"Schedule not found"},"500":{"description":"Internal server error"}}}},"/schedules/{schedule_id}/disable":{"post":{"tags":["schedules"],"summary":"Disable a schedule","operationId":"disableSchedule","parameters":[{"name":"schedule_id","in":"path","description":"Unique schedule identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Schedule disabled successfully"},"404":{"description":"Schedule not found"},"500":{"description":"Internal server error"}}}},"/schedules/{schedule_id}/enable":{"post":{"tags":["schedules"],"summary":"Enable a schedule","operationId":"enableSchedule","parameters":[{"name":"schedule_id","in":"path","description":"Unique schedule identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Schedule enabled successfully"},"404":{"description":"Schedule not found"},"500":{"description":"Internal server error"}}}},"/schedules/{schedule_id}/trigger":{"post":{"tags":["schedules"],"summary":"Trigger a schedule manually","operationId":"triggerSchedule","parameters":[{"name":"schedule_id","in":"path","description":"Unique schedule identifier","required":true,"schema":{"type":"string"}}],"responses":{"201":{"description":"Schedule triggered successfully"},"400":{"description":"Schedule cannot be triggered"},"404":{"description":"Schedule not found"},"500":{"description":"Internal server error"}}}},"/tasks":{"get":{"tags":["tasks"],"summary":"List all tasks with optional filtering and pagination","operationId":"listTasks","parameters":[{"name":"_start","in":"query","description":"Starting index (0-based) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"_end","in":"query","description":"Ending index (exclusive) - Refine.dev style","required":false,"schema":{"type":"integer","format":"int64","nullable":true,"minimum":0}},{"name":"page","in":"query","description":"Page number (1-based) - standard style","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"limit","in":"query","description":"Number of items per page (max 100)","required":false,"schema":{"type":"integer","format":"int32","nullable":true,"minimum":0}},{"name":"_sort","in":"query","description":"Field to sort by - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"_order","in":"query","description":"Sort order: ASC or DESC - Refine.dev style","required":false,"schema":{"type":"string","nullable":true}},{"name":"name","in":"query","description":"Filter by task name (exact match)","required":false,"schema":{"type":"string","nullable":true}},{"name":"name_like","in":"query","description":"Filter by task name (contains text)","required":false,"schema":{"type":"string","nullable":true}},{"name":"enabled","in":"query","description":"Filter by enabled status","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"version","in":"query","description":"Filter by version","required":false,"schema":{"type":"string","nullable":true}},{"name":"registry_source","in":"query","description":"Filter by registry source","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"uuid","in":"query","description":"Filter by UUID","required":false,"schema":{"type":"string","nullable":true}},{"name":"in_sync","in":"query","description":"Filter by sync status","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"has_validation","in":"query","description":"Filter by validation status","required":false,"schema":{"type":"boolean","nullable":true}},{"name":"created_after","in":"query","description":"Filter by creation date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"created_before","in":"query","description":"Filter by creation date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"updated_after","in":"query","description":"Filter by update date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"updated_before","in":"query","description":"Filter by update date (before this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"validated_after","in":"query","description":"Filter by validation date (after this date)","required":false,"schema":{"type":"string","nullable":true}},{"name":"validated_before","in":"query","description":"Filter by validation date (before this date)","required":false,"schema":{"type":"string","nullable":true}}],"responses":{"200":{"description":"List of tasks retrieved successfully"},"400":{"description":"Invalid query parameters"},"500":{"description":"Internal server error"}}},"post":{"tags":["tasks"],"summary":"Create a new task","operationId":"createTask","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTaskRequest"}}},"required":true},"responses":{"201":{"description":"Task created successfully"},"400":{"description":"Invalid task data"},"409":{"description":"Task with same name already exists"},"500":{"description":"Internal server error"}}}},"/tasks/stats":{"get":{"tags":["tasks"],"summary":"Get task statistics","operationId":"getTaskStats","responses":{"200":{"description":"Task statistics retrieved successfully"},"500":{"description":"Internal server error"}}}},"/tasks/{task_id}":{"get":{"tags":["tasks"],"summary":"Get a specific task by ID","operationId":"getTask","parameters":[{"name":"task_id","in":"path","description":"Unique task identifier","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Task retrieved successfully"},"400":{"description":"Invalid task ID"},"404":{"description":"Task not found"},"500":{"description":"Internal server error"}}},"put":{"tags":["tasks"],"summary":"Update an existing task","operationId":"updateTask","parameters":[{"name":"task_id","in":"path","description":"Unique task identifier","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateTaskRequest"}}},"required":true},"responses":{"200":{"description":"Task updated successfully"},"400":{"description":"Invalid task data"},"404":{"description":"Task not found"},"500":{"description":"Internal server error"}}}}},"components":{"schemas":{"ApplicationMetrics":{"type":"object","description":"Application-specific metrics","required":["database","tasks","executions","jobs","schedules"],"properties":{"database":{"$ref":"#/components/schemas/DatabaseMetrics"},"executions":{"$ref":"#/components/schemas/ExecutionMetrics"},"jobs":{"$ref":"#/components/schemas/JobMetrics"},"schedules":{"$ref":"#/components/schemas/ScheduleMetrics"},"tasks":{"$ref":"#/components/schemas/TaskMetrics"}}},"CreateExecutionRequest":{"type":"object","description":"Request to create a new execution","required":["taskId","input"],"properties":{"input":{"description":"Input data for the task execution"},"priority":{"type":"string","description":"Optional priority level (low, normal, high, urgent)","example":"high","nullable":true},"scheduledFor":{"type":"string","format":"date-time","description":"Optional scheduled execution time (ISO 8601 format)","example":"2023-12-07T15:30:00Z","nullable":true},"taskId":{"$ref":"#/components/schemas/ApiId"}},"example":{"input":{"filename":"data.csv","format":"csv"},"priority":"high","scheduledFor":"2023-12-07T15:30:00Z","taskId":"task_123"}},"CreateJobRequest":{"type":"object","description":"Request to create a new job","required":["taskId","input"],"properties":{"input":{"description":"Input data for the task execution"},"maxRetries":{"type":"integer","format":"int32","description":"Maximum number of retry attempts","example":3,"nullable":true},"outputDestinations":{"type":"array","items":{"$ref":"#/components/schemas/ratchet_api_types.UnifiedOutputDestination"},"description":"Optional output destinations for job results","nullable":true},"priority":{"allOf":[{"$ref":"#/components/schemas/JobPriority"}],"nullable":true},"scheduledFor":{"type":"string","format":"date-time","description":"Optional scheduled execution time (ISO 8601 format)","example":"2023-12-07T15:30:00Z","nullable":true},"taskId":{"$ref":"#/components/schemas/ApiId"}},"example":{"input":{"filename":"data.csv","format":"csv"},"maxRetries":3,"priority":"high","scheduledFor":"2023-12-07T15:30:00Z","taskId":"task_123"}},"CreateScheduleRequest":{"type":"object","description":"Request to create a new schedule","required":["taskId","name","cronExpression"],"properties":{"cronExpression":{"type":"string","description":"Cron expression defining the schedule","example":"0 9 * * *"},"description":{"type":"string","description":"Optional description of the schedule purpose","example":"Generate daily analytics report","nullable":true},"enabled":{"type":"boolean","description":"Whether the schedule is enabled","example":true,"nullable":true},"name":{"type":"string","description":"Human-readable name for the schedule","example":"daily-report"},"taskId":{"$ref":"#/components/schemas/ApiId"}},"example":{"cronExpression":"0 9 * * *","description":"Generate daily analytics report","enabled":true,"name":"daily-report","taskId":"task_123"}},"CreateTaskRequest":{"type":"object","description":"Request to create a new task","required":["name","version"],"properties":{"description":{"type":"string","description":"Optional description of what the task does","example":"Process incoming data files and generate reports","nullable":true},"enabled":{"type":"boolean","description":"Whether the task is enabled for execution (defaults to true)","example":true,"nullable":true},"inputSchema":{"description":"JSON schema defining the expected input format","nullable":true},"metadata":{"description":"Additional metadata for the task","nullable":true},"name":{"type":"string","description":"Unique name for the task (alphanumeric characters, hyphens, and underscores only)","example":"data-processor","pattern":"^[a-zA-Z0-9_-]+$"},"outputSchema":{"description":"JSON schema defining the expected output format","nullable":true},"version":{"type":"string","description":"Semantic version of the task (e.g., 1.0.0)","example":"1.0.0","pattern":"^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)"}},"example":{"description":"Process incoming data files","enabled":true,"inputSchema":{"properties":{"filename":{"type":"string"}},"required":["filename"],"type":"object"},"metadata":{"author":"Development Team","category":"data-processing"},"name":"data-processor","outputSchema":{"properties":{"processedCount":{"type":"number"}},"type":"object"},"version":"1.0.0"}},"DatabaseMetrics":{"type":"object","description":"Database metrics","required":["connectionPoolSize","activeConnections","idleConnections","totalQueries","slowQueries","averageQueryTimeMs","connectionErrors"],"properties":{"activeConnections":{"type":"integer","format":"int32","minimum":0},"averageQueryTimeMs":{"type":"number","format":"double"},"connectionErrors":{"type":"integer","format":"int64","minimum":0},"connectionPoolSize":{"type":"integer","format":"int32","minimum":0},"idleConnections":{"type":"integer","format":"int32","minimum":0},"slowQueries":{"type":"integer","format":"int64","minimum":0},"totalQueries":{"type":"integer","format":"int64","minimum":0}}},"ExecutionMetrics":{"type":"object","description":"Execution metrics","required":["totalExecutions","runningExecutions","completedExecutions","failedExecutions","cancelledExecutions","averageExecutionTimeMs","successRatePercent"],"properties":{"averageExecutionTimeMs":{"type":"number","format":"double"},"cancelledExecutions":{"type":"integer","format":"int64","minimum":0},"completedExecutions":{"type":"integer","format":"int64","minimum":0},"failedExecutions":{"type":"integer","format":"int64","minimum":0},"runningExecutions":{"type":"integer","format":"int64","minimum":0},"successRatePercent":{"type":"number","format":"double"},"totalExecutions":{"type":"integer","format":"int64","minimum":0}}},"ExecutionStats":{"type":"object","description":"Execution statistics","required":["totalExecutions","pendingExecutions","runningExecutions","completedExecutions","failedExecutions","cancelledExecutions","successRate","executionsLast24h"],"properties":{"averageDurationMs":{"type":"number","format":"double","description":"Average execution duration in milliseconds","example":2456.7,"nullable":true},"cancelledExecutions":{"type":"integer","format":"int64","description":"Number of cancelled executions","example":7,"minimum":0},"completedExecutions":{"type":"integer","format":"int64","description":"Number of successfully completed executions","example":1401,"minimum":0},"executionsLast24h":{"type":"integer","format":"int64","description":"Number of executions in the last 24 hours","example":247,"minimum":0},"failedExecutions":{"type":"integer","format":"int64","description":"Number of failed executions","example":98,"minimum":0},"pendingExecutions":{"type":"integer","format":"int64","description":"Number of executions waiting to start","example":12,"minimum":0},"runningExecutions":{"type":"integer","format":"int64","description":"Number of executions currently running","example":5,"minimum":0},"successRate":{"type":"number","format":"double","description":"Success rate as a percentage (0.0 to 100.0)","example":92.1},"totalExecutions":{"type":"integer","format":"int64","description":"Total number of executions in the system","example":1523,"minimum":0}},"example":{"averageDurationMs":2456.7,"cancelledExecutions":7,"completedExecutions":1401,"executionsLast24h":247,"failedExecutions":98,"pendingExecutions":12,"runningExecutions":5,"successRate":92.1,"totalExecutions":1523}},"JobMetrics":{"type":"object","description":"Job metrics","required":["totalJobs","pendingJobs","processingJobs","completedJobs","failedJobs","averageQueueTimeMs","retryCount"],"properties":{"averageQueueTimeMs":{"type":"number","format":"double"},"completedJobs":{"type":"integer","format":"int64","minimum":0},"failedJobs":{"type":"integer","format":"int64","minimum":0},"pendingJobs":{"type":"integer","format":"int64","minimum":0},"processingJobs":{"type":"integer","format":"int64","minimum":0},"retryCount":{"type":"integer","format":"int64","minimum":0},"totalJobs":{"type":"integer","format":"int64","minimum":0}}},"JobStats":{"type":"object","description":"Job statistics","required":["totalJobs","queuedJobs","processingJobs","completedJobs","failedJobs","cancelledJobs","retryingJobs","jobsLast24h"],"properties":{"averageWaitTimeMs":{"type":"number","format":"double","description":"Average job wait time in milliseconds","example":1234.5,"nullable":true},"cancelledJobs":{"type":"integer","format":"int64","description":"Number of cancelled jobs","example":36,"minimum":0},"completedJobs":{"type":"integer","format":"int64","description":"Number of successfully completed jobs","example":2301,"minimum":0},"failedJobs":{"type":"integer","format":"int64","description":"Number of failed jobs","example":89,"minimum":0},"jobsLast24h":{"type":"integer","format":"int64","description":"Number of jobs processed in the last 24 hours","example":156,"minimum":0},"processingJobs":{"type":"integer","format":"int64","description":"Number of jobs currently being processed","example":7,"minimum":0},"queuedJobs":{"type":"integer","format":"int64","description":"Number of jobs waiting in queue","example":23,"minimum":0},"retryingJobs":{"type":"integer","format":"int64","description":"Number of jobs waiting to be retried","example":5,"minimum":0},"totalJobs":{"type":"integer","format":"int64","description":"Total number of jobs in the system","example":2456,"minimum":0}},"example":{"averageWaitTimeMs":1234.5,"cancelledJobs":36,"completedJobs":2301,"failedJobs":89,"jobsLast24h":156,"processingJobs":7,"queuedJobs":23,"retryingJobs":5,"totalJobs":2456}},"PerformanceMetrics":{"type":"object","description":"Performance metrics","required":["requestsPerSecond","averageResponseTimeMs","p95ResponseTimeMs","p99ResponseTimeMs","errorRatePercent","successRatePercent"],"properties":{"averageResponseTimeMs":{"type":"number","format":"double"},"errorRatePercent":{"type":"number","format":"double"},"p95ResponseTimeMs":{"type":"number","format":"double"},"p99ResponseTimeMs":{"type":"number","format":"double"},"requestsPerSecond":{"type":"number","format":"double"},"successRatePercent":{"type":"number","format":"double"}}},"ResourceMetrics":{"type":"object","description":"Resource utilization metrics","required":["memoryUsageMb","memoryUsagePercent","cpuUsagePercent","heapSizeMb","heapUsedMb","gcCount","threadCount","fileDescriptors"],"properties":{"cpuUsagePercent":{"type":"number","format":"double"},"fileDescriptors":{"type":"integer","format":"int32","minimum":0},"gcCount":{"type":"integer","format":"int64","minimum":0},"heapSizeMb":{"type":"integer","format":"int64","minimum":0},"heapUsedMb":{"type":"integer","format":"int64","minimum":0},"memoryUsageMb":{"type":"integer","format":"int64","minimum":0},"memoryUsagePercent":{"type":"number","format":"double"},"threadCount":{"type":"integer","format":"int32","minimum":0}}},"RetryExecutionRequest":{"type":"object","description":"Execution retry request","properties":{"input":{"description":"Optional new input data for the retry (uses original input if not provided)","nullable":true}},"example":{"input":{"filename":"corrected_data.csv","format":"csv","validateOnly":false}}},"ScheduleMetrics":{"type":"object","description":"Schedule metrics","required":["totalSchedules","enabledSchedules","overdueSchedules","successfulTriggers","failedTriggers"],"properties":{"enabledSchedules":{"type":"integer","format":"int64","minimum":0},"failedTriggers":{"type":"integer","format":"int64","minimum":0},"nextExecutionInSeconds":{"type":"integer","format":"int64","nullable":true},"overdueSchedules":{"type":"integer","format":"int64","minimum":0},"successfulTriggers":{"type":"integer","format":"int64","minimum":0},"totalSchedules":{"type":"integer","format":"int64","minimum":0}}},"ScheduleStats":{"type":"object","description":"Schedule statistics","required":["totalSchedules","enabledSchedules","disabledSchedules","schedulesReadyToRun"],"properties":{"averageExecutionIntervalMinutes":{"type":"number","format":"double","description":"Average time between executions in minutes","example":120.5,"nullable":true},"disabledSchedules":{"type":"integer","format":"int64","description":"Number of disabled schedules","example":7,"minimum":0},"enabledSchedules":{"type":"integer","format":"int64","description":"Number of enabled schedules","example":38,"minimum":0},"lastExecution":{"type":"string","format":"date-time","description":"Most recent execution time","example":"2023-12-07T14:30:00Z","nullable":true},"nextExecution":{"type":"string","format":"date-time","description":"Next scheduled execution time","example":"2023-12-07T16:30:00Z","nullable":true},"schedulesReadyToRun":{"type":"integer","format":"int64","description":"Number of schedules ready to run now","example":3,"minimum":0},"totalSchedules":{"type":"integer","format":"int64","description":"Total number of schedules in the system","example":45,"minimum":0}},"example":{"averageExecutionIntervalMinutes":120.5,"disabledSchedules":7,"enabledSchedules":38,"lastExecution":"2023-12-07T14:30:00Z","nextExecution":"2023-12-07T16:30:00Z","schedulesReadyToRun":3,"totalSchedules":45}},"SyncTasksResponse":{"type":"object","description":"Task synchronization response","required":["added","updated","removed","errors"],"properties":{"added":{"type":"array","items":{"type":"string"},"description":"Names of tasks that were added during synchronization","example":["new-task-1","new-task-2"]},"errors":{"type":"array","items":{"$ref":"#/components/schemas/TaskSyncError"},"description":"Errors encountered during synchronization"},"removed":{"type":"array","items":{"type":"string"},"description":"Names of tasks that were removed during synchronization","example":["old-task-1"]},"updated":{"type":"array","items":{"type":"string"},"description":"Names of tasks that were updated during synchronization","example":["existing-task-1"]}},"example":{"added":["new-task-1","new-task-2"],"errors":[{"error":"Invalid JavaScript syntax","taskName":"broken-task"}],"removed":["old-task-1"],"updated":["existing-task-1"]}},"SystemInfo":{"type":"object","description":"System information","required":["version","buildTimestamp","rustVersion","targetTriple","uptimeSeconds"],"properties":{"buildTimestamp":{"type":"string"},"gitCommit":{"type":"string","nullable":true},"rustVersion":{"type":"string"},"targetTriple":{"type":"string"},"uptimeSeconds":{"type":"integer","format":"int64","minimum":0},"version":{"type":"string"}}},"SystemMetrics":{"type":"object","description":"System metrics response","required":["systemInfo","performance","resources","application"],"properties":{"application":{"$ref":"#/components/schemas/ApplicationMetrics"},"performance":{"$ref":"#/components/schemas/PerformanceMetrics"},"resources":{"$ref":"#/components/schemas/ResourceMetrics"},"systemInfo":{"$ref":"#/components/schemas/SystemInfo"}}},"TaskMetrics":{"type":"object","description":"Task metrics","required":["totalTasks","enabledTasks","validatedTasks","tasksWithErrors","registrySyncCount"],"properties":{"enabledTasks":{"type":"integer","format":"int64","minimum":0},"lastSyncTimestamp":{"type":"string","format":"date-time","nullable":true},"registrySyncCount":{"type":"integer","format":"int64","minimum":0},"tasksWithErrors":{"type":"integer","format":"int64","minimum":0},"totalTasks":{"type":"integer","format":"int64","minimum":0},"validatedTasks":{"type":"integer","format":"int64","minimum":0}}},"TaskStats":{"type":"object","description":"Task statistics","required":["totalTasks","enabledTasks","disabledTasks","registryTasks","databaseTasks","validationErrors"],"properties":{"databaseTasks":{"type":"integer","format":"int64","description":"Number of tasks stored in database","example":42,"minimum":0},"disabledTasks":{"type":"integer","format":"int64","description":"Number of disabled tasks","example":4,"minimum":0},"enabledTasks":{"type":"integer","format":"int64","description":"Number of enabled tasks","example":38,"minimum":0},"lastSync":{"type":"string","format":"date-time","description":"Timestamp of last synchronization with registry","example":"2023-12-07T14:30:00Z","nullable":true},"registryTasks":{"type":"integer","format":"int64","description":"Number of tasks loaded from registry","example":25,"minimum":0},"totalTasks":{"type":"integer","format":"int64","description":"Total number of tasks in the system","example":42,"minimum":0},"validationErrors":{"type":"integer","format":"int64","description":"Number of tasks with validation errors","example":2,"minimum":0}},"example":{"databaseTasks":42,"disabledTasks":4,"enabledTasks":38,"lastSync":"2023-12-07T14:30:00Z","registryTasks":25,"totalTasks":42,"validationErrors":2}},"TaskSyncError":{"type":"object","description":"Task synchronization error","required":["taskName","error"],"properties":{"error":{"type":"string","description":"Error message describing what went wrong","example":"Invalid JavaScript syntax"},"taskName":{"type":"string","description":"Name of the task that failed to synchronize","example":"broken-task"}},"example":{"error":"Invalid JavaScript syntax","taskName":"broken-task"}},"UpdateExecutionRequest":{"type":"object","description":"Request to update execution status","properties":{"errorDetails":{"description":"Additional error details","nullable":true},"errorMessage":{"type":"string","description":"Error message if execution failed","example":"Validation failed: missing required field 'id'","nullable":true},"output":{"description":"Execution output data","nullable":true},"progress":{"type":"number","format":"float","description":"Execution progress percentage (0.0 to 100.0)","example":100.0,"nullable":true},"status":{"allOf":[{"$ref":"#/components/schemas/ExecutionStatus"}],"nullable":true}},"example":{"output":{"outputFile":"processed_data.json","processedRecords":1250},"progress":100.0,"status":"completed"}},"UpdateJobRequest":{"type":"object","description":"Request to update job status","properties":{"errorMessage":{"type":"string","description":"Error message if job failed","example":"Task validation failed: missing required field","nullable":true},"maxRetries":{"type":"integer","format":"int32","description":"Updated maximum retry count","example":5,"nullable":true},"priority":{"allOf":[{"$ref":"#/components/schemas/JobPriority"}],"nullable":true},"scheduledFor":{"type":"string","format":"date-time","description":"Updated scheduled execution time","example":"2023-12-07T16:00:00Z","nullable":true},"status":{"allOf":[{"$ref":"#/components/schemas/JobStatus"}],"nullable":true}},"example":{"maxRetries":5,"priority":"urgent","status":"processing"}},"UpdateScheduleRequest":{"type":"object","description":"Request to update a schedule","properties":{"cronExpression":{"type":"string","description":"Updated cron expression","example":"0 9 * * 1","nullable":true},"description":{"type":"string","description":"Updated description","example":"Generate weekly analytics report","nullable":true},"enabled":{"type":"boolean","description":"Updated enabled status","example":false,"nullable":true},"name":{"type":"string","description":"Updated name for the schedule","example":"weekly-report","nullable":true}},"example":{"cronExpression":"0 9 * * 1","description":"Generate weekly analytics report","enabled":false,"name":"weekly-report"}},"UpdateTaskRequest":{"type":"object","description":"Request to update an existing task","properties":{"description":{"type":"string","description":"Updated description","example":"Updated description for the task","nullable":true},"enabled":{"type":"boolean","description":"Updated enabled status","example":false,"nullable":true},"inputSchema":{"description":"Updated input schema","nullable":true},"metadata":{"description":"Updated metadata","nullable":true},"name":{"type":"string","description":"Updated name for the task","example":"updated-task-name","nullable":true},"outputSchema":{"description":"Updated output schema","nullable":true},"version":{"type":"string","description":"Updated version","example":"1.1.0","nullable":true}},"example":{"description":"Updated description for the task","enabled":false}},"ValidateTaskRequest":{"type":"object","description":"Task validation request","required":["input"],"properties":{"input":{"description":"Input data to validate against the task's input schema"}},"example":{"input":{"filename":"data.csv","format":"csv"}}},"ValidateTaskResponse":{"type":"object","description":"Task validation response","required":["valid","errors","warnings"],"properties":{"errors":{"type":"array","items":{"$ref":"#/components/schemas/ValidationErrorDetail"},"description":"List of validation errors found in the input"},"valid":{"type":"boolean","description":"Whether the input data is valid according to the task schema","example":true},"warnings":{"type":"array","items":{"$ref":"#/components/schemas/ValidationWarningDetail"},"description":"List of validation warnings (non-blocking issues)"}},"example":{"errors":[],"valid":true,"warnings":[{"code":"W001","field":"format","message":"Using deprecated format option"}]}},"ValidationErrorDetail":{"type":"object","description":"Validation error detail","required":["message","code"],"properties":{"code":{"type":"string","description":"Error code for programmatic handling","example":"E001"},"field":{"type":"string","description":"The field name that failed validation (optional for global errors)","example":"filename","nullable":true},"message":{"type":"string","description":"Human-readable error message","example":"Field is required but missing"}},"example":{"code":"E001","field":"filename","message":"Field is required but missing"}},"ValidationWarningDetail":{"type":"object","description":"Validation warning detail","required":["message","code"],"properties":{"code":{"type":"string","description":"Warning code for programmatic handling","example":"W001"},"field":{"type":"string","description":"The field name that generated the warning (optional for global warnings)","example":"format","nullable":true},"message":{"type":"string","description":"Human-readable warning message","example":"Using deprecated format option"}},"example":{"code":"W001","field":"format","message":"Using deprecated format option"}}}},"tags":[{"name":"tasks","description":"Task management operations"},{"name":"executions","description":"Task execution monitoring and control"},{"name":"jobs","description":"Job queue management"},{"name":"schedules","description":"Task scheduling operations"},{"name":"workers","description":"Worker monitoring and management"},{"name":"mcp","description":"MCP (Model Context Protocol) development tools"},{"name":"health","description":"System health and monitoring"},{"name":"monitoring","description":"System metrics and observability"}]}